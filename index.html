<!DOCTYPE html>
<html lang="en">
   <head>
    <meta charset="utf-8">
    <title>Rock Paper Scissors</title>
   </head>

   <body>
    <div class="buttons">
        <button class="rps" data-key="rock">Rock</button>
        <button class="rps" data-key="paper">Paper</button>
        <button class="rps" data-key="scissors">Scissors</button>
    </div>
    
    <div id="display">
        <div>
            <p id="wins"></p>
            <p id="losses"></p>
            <p id="draws"></p>
        </div>
        <div>
            <p id="victor"></p>
        </div>
        <div>
            <button id="redo">Restart Game</button>
        </div>
    </div>
    <script>

        function playRound(e){
            const pick = document.querySelector(`button[data-key="${e.code}"]`);
            let comp;

            while((wins + losses + ties) < 5)
            {
                let rand = Math.floor(Math.random() * 3) + 1;

                if(rand == 1)
                {
                    comp = "rock";
                    console.log(comp);
                }
                else if(rand == 2)
                {
                    comp = "paper";
                    console.log(comp);
                }
                else
                {
                    comp = "scissors";
                    console.log(comp);
                }

                if(pick === comp)
                {
                    p3.innerHTML = ++ties;
                }
                else
                {
                    if((pick === "rock" && comp === "scissors") ||
                    (pick === "scissors" && comp === "paper"))
                    {
                        p1.innerHTML = ++wins;
                    }
                    else
                    {
                        p2.innerHTML = ++loses;
                    }
                }
            }

            while((wins + losses + ties) === 5)
            {
                winner.style.display = "block";
                again.style.display = "block";
            }

            

            /*if(e.code == "rock" && computer.toLowerCase() == "scissors")
            {
                condition = "You win! Rock beats Scissors!";
            }
            else if(e.code == "scissors" && computer.toLowerCase() == "paper")
            {
                condition = "You win! Scissors beats Paper!";
            }
            else if(e.code == "paper" && computer.toLowerCase() == "rock")
            {
                condition = "You win! Paper beats Rock!";
            }
            else if(e.code == "scissors" && computer.toLowerCase() == "rock")
            {
                condition = "You lose... Rock beats Scissors...";
            }
            else if(e.code == "rock" && computer.toLowerCase() == "paper")
            {
                condition = "You lose... Paper beats Rock...";
            }
            else if(e.code == "paper" && computer.toLowerCase() == "scissors")
            {
                condition = "You lose... Scissors beats Paper...";
            }
            else
            {
                condition = "You Draw"
            }*/
        }

        function restartGame(e){
            wins = 0;
            losses = 0;
            ties = 0;
            
            p1 = wins;
            p2 = losses;
            p3 = ties;

            again.style.display = "none";
            winner.style.display = "none";
        }
        
        let wins = 0;
        let losses = 0;
        let ties = 0;
        const p1 = document.getElementById('wins');
        const p2 = document.getElementById('losses');
        const p3 = document.getElementById('draws');

        const winner = getElementById('victor');
        winner.style.display = "none";

        const choice = document.querySelectorAll('.rps')
        choice.forEach(choice => choice.addEventListener('click', playRound))

        const again = document.querySelector('#redo');
        again.addEventListener('click', restartGame);
        again.style.display = "none";
    </script>
   </body>
</html>